version: '3.8'

services:
  node1:
    image: gluster/gluster-centos
    platform: linux/amd64
    container_name: node1
    volumes:
      - node1-brick:/data/brick
    networks:
      - gluster-net
    command: ["/usr/sbin/glusterd", "-N"]
    tty: true

  node2:
    image: gluster/gluster-centos
    platform: linux/amd64
    container_name: node2
    volumes:
      - node2-brick:/data/brick
    networks:
      - gluster-net
    command: ["/usr/sbin/glusterd", "-N"]
    tty: true

  node3:
    image: gluster/gluster-centos
    platform: linux/amd64
    container_name: node3
    volumes:
      - node3-brick:/data/brick
    networks:
      - gluster-net
    command: ["/usr/sbin/glusterd", "-N"]
    tty: true

  node4:
    image: gluster/gluster-centos
    platform: linux/amd64
    container_name: node4
    volumes:
      - node4-brick:/data/brick
    networks:
      - gluster-net
    command: ["/usr/sbin/glusterd", "-N"]
    tty: true

volumes:
  node1-brick:
  node2-brick:
  node3-brick:
  node4-brick:

networks:
  gluster-net:
    driver: bridge
